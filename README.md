**Under heavy research and development, please don't use this yet!**

# rsx-dom
[![License: MPL 2.0](https://img.shields.io/badge/License-MPL%202.0-brightgreen.svg)](https://opensource.org/licenses/MPL-2.0)
[![Build Status](https://travis-ci.org/victorporof/rsx-dom.svg?branch=master)](https://travis-ci.org/victorporof/rsx-dom)

Simple node tree abstraction layer over RSX syntax trees

## Purpose
A backwards compatible higher level of abstraction over the AST generated by the [RSX parser](https://github.com/victorporof/rsx-parser). Since working directly with `rsx_parser::RSXElement` abstract syntax trees (or Rust's [proc_macro::TokenStream](https://doc.rust-lang.org/proc_macro/struct.TokenStream.html)) can be tedious, and the underlying parser and compiler data formats can change at any time, a simpler DOM structure is useful as an abstraction layer in the scope of writing [RSX code](https://github.com/victorporof/rsx-compiler-plugin).

## How to use
[Documentation](https://victorporof.github.io/rsx-dom)

This crate concerns itself strictly generating a DOM node tree from a RSX syntax tree. If you're just looking to write RSX in your project, take a look at the [RSX compiler plugin](https://github.com/victorporof/rsx_compiler_plugin) instead.

Otherwise, add this to your `Cargo.toml` file:

```toml
[dependencies]
rsx-dom = { git = "https://github.com/victorporof/rsx-dom.git" }
```

RSX parsing is enabled via the `rsx-parse` feature gate.

```toml
[dependencies]
rsx-dom = { git = "https://github.com/victorporof/rsx-dom.git", features = ["rsx-parse"] }
```

When used as part of the [RSX compiler plugin](https://github.com/victorporof/rsx_compiler_plugin), the convertion is automatic between `rsx_parser::RSXElement` abstract syntax trees to the more convenient `rsx_dom::DOMNode` elements, because the AST is directly tokenized into a DOM tree to avoid any runtime work! Templating is thus a zero cost abstraction.

If manual instantiation is desired, simply import the library into your code to build `rsx_dom::DOMNode` elements.

```rust
extern crate rsx_dom;
use rsx_dom::types::DOMNode;

let node = DOMNode::from(...);
```

Note that when used as a compiler plugin,

*Note: `rsx-dom` also re-exports the `rsx-parser` [crate](https://github.com/victorporof/rsx-parser), only needed if you need to parse character streams (such as strings) directly. You'll probably prefer using the `rsx!` macro as part of the [RSX compiler plugin](https://github.com/victorporof/rsx_compiler_plugin) instead.*

See all the available [types](https://github.com/victorporof/rsx-parser/blob/master/src/parse_elements_types.rs) for more details.
